# yaml-language-server: $schema=https://raw.githubusercontent.com/evilmartians/lefthook/refs/heads/master/schema.json

pre-commit:
  parallel: true
  jobs:
    - name: validate
      glob: "*.go"
      group:
        jobs:
          - run: make build
            tags: [build]

          - run: make fmt-check
            tags: [lint]

          - run: make lint
            tags: [lint]

pre-push:
  jobs:
    - name: test
      glob: "*.go"
      group:
        jobs:
          - run: make test-all
            tags: [test]
